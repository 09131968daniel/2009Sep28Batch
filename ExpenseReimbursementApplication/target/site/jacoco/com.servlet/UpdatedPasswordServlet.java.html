<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>UpdatedPasswordServlet.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Project1</a> &gt; <a href="index.source.html" class="el_package">com.servlet</a> &gt; <span class="el_source">UpdatedPasswordServlet.java</span></div><h1>UpdatedPasswordServlet.java</h1><pre class="source lang-java linenums">package com.servlet;

import java.io.IOException;
import java.io.PrintWriter;
import java.security.NoSuchAlgorithmException;

import javax.servlet.RequestDispatcher;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import com.dao.UpdatedPasswordDao;
import com.util.MyHash;

/**
 * Servlet implementation class UpdatedPasswordServlet
 */
<span class="fc" id="L19">public class UpdatedPasswordServlet extends HttpServlet {</span>
	
	private static final long serialVersionUID = 1L;
       

	/**
	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)
	 */
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		// TODO Auto-generated method stub
<span class="nc" id="L29">		response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());</span>
<span class="nc" id="L30">	}</span>

	/**
	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
	 */
	public void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException 
	{
<span class="fc" id="L37">		resp.setContentType(&quot;text/html&quot;);</span>

<span class="fc" id="L39">		PrintWriter out = resp.getWriter();</span>
		
<span class="fc" id="L41">		UpdatedPasswordDao upd = new UpdatedPasswordDao();</span>
		
<span class="fc" id="L43">		String username = req.getParameter(&quot;users_id&quot;);</span>
<span class="fc" id="L44">		String npw = req.getParameter(&quot;newpword&quot;);</span>
		
<span class="fc" id="L46">		MyHash mh = new MyHash(npw, &quot;SHA-256&quot;);</span>
		
<span class="fc" id="L48">		String hashedPassword = &quot;&quot;;</span>
		try {
<span class="fc" id="L50">			hashedPassword = MyHash.generateHash(req.getParameter(&quot;newpword&quot;), &quot;SHA-256&quot;);</span>
<span class="nc" id="L51">		} catch (NoSuchAlgorithmException e) {</span>
			// TODO Auto-generated catch block
<span class="nc" id="L53">			e.printStackTrace();</span>
<span class="fc" id="L54">		}</span>
		
<span class="fc" id="L56">		upd.updatePassword(username, hashedPassword);</span>
		
		/*
			String backtologinpage = &quot;/html_css_js/loginpage.html&quot;;
			RequestDispatcher dispatcher = getServletContext().getRequestDispatcher(backtologinpage);
			dispatcher.forward(req, resp);
		*/
		
		
<span class="fc" id="L65">		out.print(&quot;&lt;!doctype html&gt;\n&quot;</span>
				+ &quot;&lt;html lang=\&quot;en\&quot;&gt;\n&quot;
				+ &quot;\n&quot;
				+ &quot;&lt;head&gt;\n&quot;
				+ &quot;    &lt;!-- Required meta tags --&gt;\n&quot;
				+ &quot;    &lt;meta charset=\&quot;utf-8\&quot;&gt;\n&quot;
				+ &quot;    &lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width, initial-scale=1, shrink-to-fit=no\&quot;&gt;\n&quot;
				+ &quot;\n&quot;
				+ &quot;    &lt;!-- Bootstrap CSS --&gt;\n&quot;
				+ &quot;    &lt;link rel=\&quot;stylesheet\&quot; href=\&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\&quot;\n&quot;
				+ &quot;        integrity=\&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\&quot; crossorigin=\&quot;anonymous\&quot;&gt;\n&quot;
				+ &quot;    \n&quot;
				+ &quot;    &lt;!-- Custom CSS --&gt;\n&quot;
				+ &quot;    &lt;link rel=\&quot;stylesheet\&quot; href=\&quot;html_css_js/style.css\&quot;&gt;\n&quot;
				+ &quot;\n&quot;
				+ &quot;    &lt;title&gt;Wilkins and Jones Law Firm&lt;/title&gt;\n&quot;
				+ &quot;&lt;/head&gt;\n&quot;
				+ &quot;\n&quot;
				+ &quot;&lt;body&gt;\n&quot;
				+ &quot;    &lt;div class=\&quot;container\&quot;&gt;\n&quot;
				+ &quot;        &lt;header class=\&quot;head my-3\&quot;&gt;\n&quot;
				+ &quot;            &lt;nav class=\&quot;navbar navbar-expand-lg navbar-light head__custom-nav\&quot;&gt;\n&quot;
				+ &quot;                &lt;a class=\&quot;navbar-brand d-flex align-items-center\&quot; href=\&quot;#\&quot;&gt;\n&quot;
				+ &quot;                    &lt;img src=\&quot;html_css_js/logo.png\&quot; alt=\&quot;website logo\&quot;&gt;\n&quot;
				+ &quot;                    &lt;span&gt;WJLaw&lt;/span&gt;\n&quot;
				+ &quot;                &lt;/a&gt;\n&quot;
				+ &quot;                &lt;button class=\&quot;navbar-toggler\&quot; type=\&quot;button\&quot; data-toggle=\&quot;collapse\&quot; data-target=\&quot;#navbarNav\&quot;&gt;\n&quot;
				+ &quot;                    &lt;span&gt;&lt;img src=\&quot;html_css_js/menu.png\&quot; alt=\&quot;\&quot;&gt;&lt;/span&gt;\n&quot;
				+ &quot;                &lt;/button&gt;\n&quot;
				+ &quot;                &lt;div class=\&quot;collapse navbar-collapse justify-content-end\&quot; id=\&quot;navbarNav\&quot;&gt;\n&quot;
				+ &quot;                    &lt;ul class=\&quot;navbar-nav\&quot;&gt;\n&quot;
				+ &quot;                        &lt;li class=\&quot;nav-item\&quot;&gt;\n&quot;
				+ &quot;                            &lt;a class=\&quot;nav-link\&quot; href=\&quot;#\&quot;&gt;Home&lt;/a&gt;\n&quot;
				+ &quot;                        &lt;/li&gt;\n&quot;
				+ &quot;                        &lt;li class=\&quot;nav-item\&quot;&gt;\n&quot;
				+ &quot;                            &lt;a class=\&quot;nav-link\&quot; href=\&quot;#\&quot;&gt;About us&lt;/a&gt;\n&quot;
				+ &quot;                        &lt;/li&gt;\n&quot;
				+ &quot;                        &lt;li class=\&quot;nav-item\&quot;&gt;\n&quot;
				+ &quot;                            &lt;a class=\&quot;nav-link\&quot; href=\&quot;html_css_js/loginpage.html\&quot;&gt;Login&lt;/a&gt;\n&quot;
				+ &quot;                        &lt;/li&gt;\n&quot;
				+ &quot;                        &lt;li class=\&quot;nav-item\&quot;&gt;\n&quot;
				+ &quot;                            &lt;a class=\&quot;nav-link text-primary\&quot; href=\&quot;#\&quot;&gt;Contact us&lt;/a&gt;\n&quot;
				+ &quot;                        &lt;/li&gt;\n&quot;
				+ &quot;                    &lt;/ul&gt;\n&quot;
				+ &quot;                &lt;/div&gt;\n&quot;
				+ &quot;            &lt;/nav&gt;\n&quot;
				+ &quot;        &lt;/header&gt;\n&quot;
				+ &quot;    &lt;/div&gt;\n&quot;
				+ &quot;    &lt;div class=\&quot;container\&quot;&gt;\n&quot;
				+ &quot;        &lt;div class=\&quot;row custom-section d-flex align-items-center\&quot;&gt;\n&quot;
				+ &quot;            &lt;div class=\&quot;col-12 col-lg-4\&quot;&gt;\n&quot;
				+ &quot;                &lt;h2&gt;Wilkins and Jones&lt;/h2&gt;\n&quot;
				+ &quot;                &lt;h3&gt;Law Firm&lt;/h3&gt;\n&quot;
				+ &quot;                &lt;p&gt;Best Corporate Law Firm in the USA!&lt;/p&gt;\n&quot;
				+ &quot;                &lt;a href=\&quot;#\&quot;&gt;Learn more&lt;/a&gt;\n&quot;
				+ &quot;            &lt;/div&gt;\n&quot;
				+ &quot;            &lt;!--  \n&quot;
				+ &quot;            &lt;div class=\&quot;col-12 col-lg-8\&quot;&gt;\n&quot;
				+ &quot;                &lt;img src=\&quot;pexels-quintin-gellar-313782.jpg\&quot; alt=\&quot;Team process banner\&quot;&gt;\n&quot;
				+ &quot;            &lt;/div&gt; --&gt;\n&quot;
				+ &quot;        &lt;/div&gt;\n&quot;
				+ &quot;    &lt;/div&gt;\n&quot;
				+ &quot;\n&quot;
				+ &quot;    &lt;!-- Optional JavaScript --&gt;\n&quot;
				+ &quot;    &lt;!-- jQuery first, then Popper.js, then Bootstrap JS --&gt;\n&quot;
				+ &quot;    &lt;script src=\&quot;https://code.jquery.com/jquery-3.4.1.slim.min.js\&quot;\n&quot;
				+ &quot;        integrity=\&quot;sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n\&quot; crossorigin=\&quot;anonymous\&quot;&gt;\n&quot;
				+ &quot;    &lt;/script&gt;\n&quot;
				+ &quot;    &lt;script src=\&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js\&quot;\n&quot;
				+ &quot;        integrity=\&quot;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo\&quot; crossorigin=\&quot;anonymous\&quot;&gt;\n&quot;
				+ &quot;    &lt;/script&gt;\n&quot;
				+ &quot;    &lt;script src=\&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js\&quot;\n&quot;
				+ &quot;        integrity=\&quot;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6\&quot; crossorigin=\&quot;anonymous\&quot;&gt;\n&quot;
				+ &quot;    &lt;/script&gt;\n&quot;
				+ &quot;&lt;/body&gt;\n&quot;
				+ &quot;\n&quot;
				+ &quot;&lt;/html&gt;&quot;);
<span class="fc" id="L142">	}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span></div></body></html>